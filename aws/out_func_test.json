{"messageVersion": "1.0", "response": {"actionGroup": null, "function": "search_flights", "functionResponse": {"responseBody": {"TEXT": {"body": "{\"status\": 502, \"data\": {\"error\": \"Proxy HTTP 400: {\\\"error\\\":\\\"Unsupported value `en-gb` in hl parameter.\\\"}\"}, \"debugLog\": [{\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Lambda invocation started\", \"details\": {\"event_keys\": \"[\\\"function\\\", \\\"promptSessionAttributes\\\", \\\"parameters\\\", \\\"sessionAttributes\\\", \\\"messageVersion\\\"]\", \"has_context\": \"True\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Routing to function handler\"}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Handling function event\", \"details\": {\"function\": \"search_flights\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Function normalized flight fields\", \"details\": {\"normalized\": \"{\\\"origin\\\": \\\"ZAG\\\", \\\"destination\\\": \\\"ZRH\\\", \\\"departureDate\\\": \\\"2025-12-10\\\", \\\"returnDate\\\": \\\"2025-12-12\\\", \\\"adults\\\": 1, \\\"nonstop\\\": false, \\\"cabin\\\": \\\"ECONOMY\\\", \\\"max\\\": 10}\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Resolve IATA: attempting normalization\", \"details\": {\"raw\": \"ZAG\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Resolve IATA: normalized successfully\", \"details\": {\"code\": \"ZAG\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Resolve IATA: attempting normalization\", \"details\": {\"raw\": \"ZRH\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Resolve IATA: normalized successfully\", \"details\": {\"code\": \"ZRH\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Function flight request prepared\", \"details\": {\"origin\": \"ZAG\", \"destination\": \"ZRH\", \"departureDate\": \"2025-12-10\", \"returnDate\": \"2025-12-12\", \"adults\": \"1\", \"nonstop\": \"False\", \"cabin\": \"ECONOMY\", \"currency\": \"EUR\", \"lhGroupOnly\": \"True\", \"max\": \"10\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Validate booking window\", \"details\": {\"departure\": \"2025-12-10\", \"return_date\": \"2025-12-12\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Validate booking window passed\", \"details\": {\"departure\": \"2025-12-10\", \"return_date\": \"2025-12-12\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Google Flights search request prepared\", \"details\": {\"origin\": \"ZAG\", \"destination\": \"ZRH\", \"departure\": \"2025-12-10\", \"returnDate\": \"2025-12-12\", \"adults\": \"1\", \"nonstop\": \"False\", \"cabin\": \"ECONOMY\", \"currency\": \"EUR\", \"lhGroupOnly\": \"True\", \"maxResults\": \"10\"}}, {\"time\": \"2025-10-26T19:42:01Z\", \"message\": \"Proxy GET request\", \"details\": {\"path\": \"/google/flights/search\", \"url\": \"https://google-api-daisy.onrender.com/google/flights/search?engine=google_flights&flight_type=round_trip&departure_id=ZAG&arrival_id=ZRH&outbound_date=2025-12-10&adults=1&currency=EUR&curr=EUR&included_airlines=LH%2CLX%2COS%2CSN%2CEW%2C4Y%2CEN&hl=en&gl=de&stops=any&return_date=2025-12-12&travel_class=economy\", \"timeout\": \"15.0\", \"params\": \"{\\\"engine\\\": \\\"google_flights\\\", \\\"flight_type\\\": \\\"round_trip\\\", \\\"departure_id\\\": \\\"ZAG\\\", \\\"arrival_id\\\": \\\"ZRH\\\", \\\"outbound_date\\\": \\\"2025-12-10\\\", \\\"adults\\\": \\\"1\\\", \\\"currency\\\": \\\"EUR\\\", \\\"curr\\\": \\\"EUR\\\", \\\"included_airlines\\\": \\\"LH,LX,OS,SN,EW,4Y,EN\\\", \\\"hl\\\": \\\"en\\\", \\\"gl\\\": \\\"de\\\", \\\"stops\\\": \\\"any\\\", \\\"return_date\\\": \\\"2025-12-12\\\", \\\"travel_class\\\": \\\"economy\\\"}\"}}, {\"time\": \"2025-10-26T19:42:02Z\", \"message\": \"Proxy GET HTTP error\", \"details\": {\"path\": \"/google/flights/search\", \"status\": \"400\", \"body_preview\": \"{\\\"error\\\":\\\"Unsupported value `en-gb` in hl parameter.\\\"}\"}}, {\"time\": \"2025-10-26T19:42:02Z\", \"message\": \"Google Flights hl fallback\", \"details\": {\"original\": \"en-GB\", \"fallback\": \"en-GB\"}}, {\"time\": \"2025-10-26T19:42:02Z\", \"message\": \"Proxy GET request\", \"details\": {\"path\": \"/google/flights/search\", \"url\": \"https://google-api-daisy.onrender.com/google/flights/search?engine=google_flights&flight_type=round_trip&departure_id=ZAG&arrival_id=ZRH&outbound_date=2025-12-10&adults=1&currency=EUR&curr=EUR&included_airlines=LH%2CLX%2COS%2CSN%2CEW%2C4Y%2CEN&hl=en&gl=de&stops=any&return_date=2025-12-12&travel_class=economy\", \"timeout\": \"15.0\", \"params\": \"{\\\"engine\\\": \\\"google_flights\\\", \\\"flight_type\\\": \\\"round_trip\\\", \\\"departure_id\\\": \\\"ZAG\\\", \\\"arrival_id\\\": \\\"ZRH\\\", \\\"outbound_date\\\": \\\"2025-12-10\\\", \\\"adults\\\": \\\"1\\\", \\\"currency\\\": \\\"EUR\\\", \\\"curr\\\": \\\"EUR\\\", \\\"included_airlines\\\": \\\"LH,LX,OS,SN,EW,4Y,EN\\\", \\\"hl\\\": \\\"en\\\", \\\"gl\\\": \\\"de\\\", \\\"stops\\\": \\\"any\\\", \\\"return_date\\\": \\\"2025-12-12\\\", \\\"travel_class\\\": \\\"economy\\\"}\"}}, {\"time\": \"2025-10-26T19:42:03Z\", \"message\": \"Proxy GET HTTP error\", \"details\": {\"path\": \"/google/flights/search\", \"status\": \"400\", \"body_preview\": \"{\\\"error\\\":\\\"Unsupported value `en-gb` in hl parameter.\\\"}\"}}, {\"time\": \"2025-10-26T19:42:03Z\", \"message\": \"Function flight search error\", \"details\": {\"error\": \"Proxy HTTP 400: {\\\"error\\\":\\\"Unsupported value `en-gb` in hl parameter.\\\"}\"}}], \"debugLogText\": \"2025-10-26T19:42:01Z - Lambda invocation started | {\\\"event_keys\\\": \\\"[\\\\\\\"function\\\\\\\", \\\\\\\"promptSessionAttributes\\\\\\\", \\\\\\\"parameters\\\\\\\", \\\\\\\"sessionAttributes\\\\\\\", \\\\\\\"messageVersion\\\\\\\"]\\\", \\\"has_context\\\": \\\"True\\\"}\\n2025-10-26T19:42:01Z - Routing to function handler\\n2025-10-26T19:42:01Z - Handling function event | {\\\"function\\\": \\\"search_flights\\\"}\\n2025-10-26T19:42:01Z - Function normalized flight fields | {\\\"normalized\\\": \\\"{\\\\\\\"origin\\\\\\\": \\\\\\\"ZAG\\\\\\\", \\\\\\\"destination\\\\\\\": \\\\\\\"ZRH\\\\\\\", \\\\\\\"departureDate\\\\\\\": \\\\\\\"2025-12-10\\\\\\\", \\\\\\\"returnDate\\\\\\\": \\\\\\\"2025-12-12\\\\\\\", \\\\\\\"adults\\\\\\\": 1, \\\\\\\"nonstop\\\\\\\": false, \\\\\\\"cabin\\\\\\\": \\\\\\\"ECONOMY\\\\\\\", \\\\\\\"max\\\\\\\": 10}\\\"}\\n2025-10-26T19:42:01Z - Resolve IATA: attempting normalization | {\\\"raw\\\": \\\"ZAG\\\"}\\n2025-10-26T19:42:01Z - Resolve IATA: normalized successfully | {\\\"code\\\": \\\"ZAG\\\"}\\n2025-10-26T19:42:01Z - Resolve IATA: attempting normalization | {\\\"raw\\\": \\\"ZRH\\\"}\\n2025-10-26T19:42:01Z - Resolve IATA: normalized successfully | {\\\"code\\\": \\\"ZRH\\\"}\\n2025-10-26T19:42:01Z - Function flight request prepared | {\\\"origin\\\": \\\"ZAG\\\", \\\"destination\\\": \\\"ZRH\\\", \\\"departureDate\\\": \\\"2025-12-10\\\", \\\"returnDate\\\": \\\"2025-12-12\\\", \\\"adults\\\": \\\"1\\\", \\\"nonstop\\\": \\\"False\\\", \\\"cabin\\\": \\\"ECONOMY\\\", \\\"currency\\\": \\\"EUR\\\", \\\"lhGroupOnly\\\": \\\"True\\\", \\\"max\\\": \\\"10\\\"}\\n2025-10-26T19:42:01Z - Validate booking window | {\\\"departure\\\": \\\"2025-12-10\\\", \\\"return_date\\\": \\\"2025-12-12\\\"}\\n2025-10-26T19:42:01Z - Validate booking window passed | {\\\"departure\\\": \\\"2025-12-10\\\", \\\"return_date\\\": \\\"2025-12-12\\\"}\\n2025-10-26T19:42:01Z - Google Flights search request prepared | {\\\"origin\\\": \\\"ZAG\\\", \\\"destination\\\": \\\"ZRH\\\", \\\"departure\\\": \\\"2025-12-10\\\", \\\"returnDate\\\": \\\"2025-12-12\\\", \\\"adults\\\": \\\"1\\\", \\\"nonstop\\\": \\\"False\\\", \\\"cabin\\\": \\\"ECONOMY\\\", \\\"currency\\\": \\\"EUR\\\", \\\"lhGroupOnly\\\": \\\"True\\\", \\\"maxResults\\\": \\\"10\\\"}\\n2025-10-26T19:42:01Z - Proxy GET request | {\\\"path\\\": \\\"/google/flights/search\\\", \\\"url\\\": \\\"https://google-api-daisy.onrender.com/google/flights/search?engine=google_flights&flight_type=round_trip&departure_id=ZAG&arrival_id=ZRH&outbound_date=2025-12-10&adults=1&currency=EUR&curr=EUR&included_airlines=LH%2CLX%2COS%2CSN%2CEW%2C4Y%2CEN&hl=en&gl=de&stops=any&return_date=2025-12-12&travel_class=economy\\\", \\\"timeout\\\": \\\"15.0\\\", \\\"params\\\": \\\"{\\\\\\\"engine\\\\\\\": \\\\\\\"google_flights\\\\\\\", \\\\\\\"flight_type\\\\\\\": \\\\\\\"round_trip\\\\\\\", \\\\\\\"departure_id\\\\\\\": \\\\\\\"ZAG\\\\\\\", \\\\\\\"arrival_id\\\\\\\": \\\\\\\"ZRH\\\\\\\", \\\\\\\"outbound_date\\\\\\\": \\\\\\\"2025-12-10\\\\\\\", \\\\\\\"adults\\\\\\\": \\\\\\\"1\\\\\\\", \\\\\\\"currency\\\\\\\": \\\\\\\"EUR\\\\\\\", \\\\\\\"curr\\\\\\\": \\\\\\\"EUR\\\\\\\", \\\\\\\"included_airlines\\\\\\\": \\\\\\\"LH,LX,OS,SN,EW,4Y,EN\\\\\\\", \\\\\\\"hl\\\\\\\": \\\\\\\"en\\\\\\\", \\\\\\\"gl\\\\\\\": \\\\\\\"de\\\\\\\", \\\\\\\"stops\\\\\\\": \\\\\\\"any\\\\\\\", \\\\\\\"return_date\\\\\\\": \\\\\\\"2025-12-12\\\\\\\", \\\\\\\"travel_class\\\\\\\": \\\\\\\"economy\\\\\\\"}\\\"}\\n2025-10-26T19:42:02Z - Proxy GET HTTP error | {\\\"path\\\": \\\"/google/flights/search\\\", \\\"status\\\": \\\"400\\\", \\\"body_preview\\\": \\\"{\\\\\\\"error\\\\\\\":\\\\\\\"Unsupported value `en-gb` in hl parameter.\\\\\\\"}\\\"}\\n2025-10-26T19:42:02Z - Google Flights hl fallback | {\\\"original\\\": \\\"en-GB\\\", \\\"fallback\\\": \\\"en-GB\\\"}\\n2025-10-26T19:42:02Z - Proxy GET request | {\\\"path\\\": \\\"/google/flights/search\\\", \\\"url\\\": \\\"https://google-api-daisy.onrender.com/google/flights/search?engine=google_flights&flight_type=round_trip&departure_id=ZAG&arrival_id=ZRH&outbound_date=2025-12-10&adults=1&currency=EUR&curr=EUR&included_airlines=LH%2CLX%2COS%2CSN%2CEW%2C4Y%2CEN&hl=en&gl=de&stops=any&return_date=2025-12-12&travel_class=economy\\\", \\\"timeout\\\": \\\"15.0\\\", \\\"params\\\": \\\"{\\\\\\\"engine\\\\\\\": \\\\\\\"google_flights\\\\\\\", \\\\\\\"flight_type\\\\\\\": \\\\\\\"round_trip\\\\\\\", \\\\\\\"departure_id\\\\\\\": \\\\\\\"ZAG\\\\\\\", \\\\\\\"arrival_id\\\\\\\": \\\\\\\"ZRH\\\\\\\", \\\\\\\"outbound_date\\\\\\\": \\\\\\\"2025-12-10\\\\\\\", \\\\\\\"adults\\\\\\\": \\\\\\\"1\\\\\\\", \\\\\\\"currency\\\\\\\": \\\\\\\"EUR\\\\\\\", \\\\\\\"curr\\\\\\\": \\\\\\\"EUR\\\\\\\", \\\\\\\"included_airlines\\\\\\\": \\\\\\\"LH,LX,OS,SN,EW,4Y,EN\\\\\\\", \\\\\\\"hl\\\\\\\": \\\\\\\"en\\\\\\\", \\\\\\\"gl\\\\\\\": \\\\\\\"de\\\\\\\", \\\\\\\"stops\\\\\\\": \\\\\\\"any\\\\\\\", \\\\\\\"return_date\\\\\\\": \\\\\\\"2025-12-12\\\\\\\", \\\\\\\"travel_class\\\\\\\": \\\\\\\"economy\\\\\\\"}\\\"}\\n2025-10-26T19:42:03Z - Proxy GET HTTP error | {\\\"path\\\": \\\"/google/flights/search\\\", \\\"status\\\": \\\"400\\\", \\\"body_preview\\\": \\\"{\\\\\\\"error\\\\\\\":\\\\\\\"Unsupported value `en-gb` in hl parameter.\\\\\\\"}\\\"}\\n2025-10-26T19:42:03Z - Function flight search error | {\\\"error\\\": \\\"Proxy HTTP 400: {\\\\\\\"error\\\\\\\":\\\\\\\"Unsupported value `en-gb` in hl parameter.\\\\\\\"}\\\"}\"}"}}}}, "sessionAttributes": {}, "promptSessionAttributes": {}}