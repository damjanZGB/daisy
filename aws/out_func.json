{"messageVersion": "1.0", "response": {"actionGroup": null, "function": "search_flights", "functionResponse": {"responseBody": {"TEXT": {"body": "{\"status\": 502, \"data\": {\"error\": \"Proxy HTTP 429: {\\\"errors\\\":[{\\\"code\\\":38195,\\\"title\\\":\\\"Quota limit exceeded\\\",\\\"detail\\\":\\\"The quota limit is exceeded\\\",\\\"status\\\":429}]}\"}, \"debugLog\": [{\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Lambda invocation started\", \"details\": {\"event_keys\": \"[\\\"function\\\", \\\"promptSessionAttributes\\\", \\\"parameters\\\", \\\"sessionAttributes\\\", \\\"messageVersion\\\"]\", \"has_context\": \"True\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Routing to function handler\"}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Handling function event\", \"details\": {\"function\": \"search_flights\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Function normalized flight fields\", \"details\": {\"normalized\": \"{\\\"origin\\\": \\\"ZAG\\\", \\\"destination\\\": \\\"ZRH\\\", \\\"departureDate\\\": \\\"2025-11-01\\\", \\\"returnDate\\\": \\\"2025-11-03\\\", \\\"adults\\\": 1, \\\"nonstop\\\": false, \\\"cabin\\\": \\\"ECONOMY\\\", \\\"max\\\": 6}\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Resolve IATA: attempting normalization\", \"details\": {\"raw\": \"ZAG\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Resolve IATA: normalized successfully\", \"details\": {\"code\": \"ZAG\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Resolve IATA: attempting normalization\", \"details\": {\"raw\": \"ZRH\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Resolve IATA: normalized successfully\", \"details\": {\"code\": \"ZRH\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Function flight request prepared\", \"details\": {\"origin\": \"ZAG\", \"destination\": \"ZRH\", \"departureDate\": \"2025-11-01\", \"returnDate\": \"2025-11-03\", \"adults\": \"1\", \"nonstop\": \"False\", \"cabin\": \"ECONOMY\", \"currency\": \"EUR\", \"lhGroupOnly\": \"True\", \"max\": \"6\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Validate booking window\", \"details\": {\"departure\": \"2025-11-01\", \"return_date\": \"2025-11-03\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Validate booking window passed\", \"details\": {\"departure\": \"2025-11-01\", \"return_date\": \"2025-11-03\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Amadeus search request prepared\", \"details\": {\"origin\": \"ZAG\", \"destination\": \"ZRH\", \"departure\": \"2025-11-01\", \"returnDate\": \"2025-11-03\", \"adults\": \"1\", \"nonstop\": \"False\", \"cabin\": \"ECONOMY\", \"currency\": \"EUR\", \"lhGroupOnly\": \"True\", \"maxResults\": \"6\"}}, {\"time\": \"2025-10-20T12:17:46Z\", \"message\": \"Proxy POST request\", \"details\": {\"path\": \"/tools/amadeus/search\", \"url\": \"https://origin-daisy.onrender.com/tools/amadeus/search\", \"timeout\": \"8.0\", \"payload\": \"{\\\"originLocationCode\\\": \\\"ZAG\\\", \\\"destinationLocationCode\\\": \\\"ZRH\\\", \\\"departureDate\\\": \\\"2025-11-01\\\", \\\"adults\\\": 1, \\\"nonStop\\\": false, \\\"max\\\": 6, \\\"travelClass\\\": \\\"ECONOMY\\\", \\\"returnDate\\\": \\\"2025-11-03\\\", \\\"currencyCode\\\": \\\"EUR\\\", \\\"includedAirlineCodes\\\": \\\"LH,LX,OS,SN,EW,4Y,EN\\\"}\"}}, {\"time\": \"2025-10-20T12:17:48Z\", \"message\": \"Proxy POST HTTP error\", \"details\": {\"path\": \"/tools/amadeus/search\", \"status\": \"429\", \"body_preview\": \"{\\\"errors\\\":[{\\\"code\\\":38195,\\\"title\\\":\\\"Quota limit exceeded\\\",\\\"detail\\\":\\\"The quota limit is exceeded\\\",\\\"status\\\":429}]}\"}}, {\"time\": \"2025-10-20T12:17:48Z\", \"message\": \"Function flight search error\", \"details\": {\"error\": \"Proxy HTTP 429: {\\\"errors\\\":[{\\\"code\\\":38195,\\\"title\\\":\\\"Quota limit exceeded\\\",\\\"detail\\\":\\\"The quota limit is exceeded\\\",\\\"status\\\":429}]}\"}}], \"debugLogText\": \"2025-10-20T12:17:46Z - Lambda invocation started | {\\\"event_keys\\\": \\\"[\\\\\\\"function\\\\\\\", \\\\\\\"promptSessionAttributes\\\\\\\", \\\\\\\"parameters\\\\\\\", \\\\\\\"sessionAttributes\\\\\\\", \\\\\\\"messageVersion\\\\\\\"]\\\", \\\"has_context\\\": \\\"True\\\"}\\n2025-10-20T12:17:46Z - Routing to function handler\\n2025-10-20T12:17:46Z - Handling function event | {\\\"function\\\": \\\"search_flights\\\"}\\n2025-10-20T12:17:46Z - Function normalized flight fields | {\\\"normalized\\\": \\\"{\\\\\\\"origin\\\\\\\": \\\\\\\"ZAG\\\\\\\", \\\\\\\"destination\\\\\\\": \\\\\\\"ZRH\\\\\\\", \\\\\\\"departureDate\\\\\\\": \\\\\\\"2025-11-01\\\\\\\", \\\\\\\"returnDate\\\\\\\": \\\\\\\"2025-11-03\\\\\\\", \\\\\\\"adults\\\\\\\": 1, \\\\\\\"nonstop\\\\\\\": false, \\\\\\\"cabin\\\\\\\": \\\\\\\"ECONOMY\\\\\\\", \\\\\\\"max\\\\\\\": 6}\\\"}\\n2025-10-20T12:17:46Z - Resolve IATA: attempting normalization | {\\\"raw\\\": \\\"ZAG\\\"}\\n2025-10-20T12:17:46Z - Resolve IATA: normalized successfully | {\\\"code\\\": \\\"ZAG\\\"}\\n2025-10-20T12:17:46Z - Resolve IATA: attempting normalization | {\\\"raw\\\": \\\"ZRH\\\"}\\n2025-10-20T12:17:46Z - Resolve IATA: normalized successfully | {\\\"code\\\": \\\"ZRH\\\"}\\n2025-10-20T12:17:46Z - Function flight request prepared | {\\\"origin\\\": \\\"ZAG\\\", \\\"destination\\\": \\\"ZRH\\\", \\\"departureDate\\\": \\\"2025-11-01\\\", \\\"returnDate\\\": \\\"2025-11-03\\\", \\\"adults\\\": \\\"1\\\", \\\"nonstop\\\": \\\"False\\\", \\\"cabin\\\": \\\"ECONOMY\\\", \\\"currency\\\": \\\"EUR\\\", \\\"lhGroupOnly\\\": \\\"True\\\", \\\"max\\\": \\\"6\\\"}\\n2025-10-20T12:17:46Z - Validate booking window | {\\\"departure\\\": \\\"2025-11-01\\\", \\\"return_date\\\": \\\"2025-11-03\\\"}\\n2025-10-20T12:17:46Z - Validate booking window passed | {\\\"departure\\\": \\\"2025-11-01\\\", \\\"return_date\\\": \\\"2025-11-03\\\"}\\n2025-10-20T12:17:46Z - Amadeus search request prepared | {\\\"origin\\\": \\\"ZAG\\\", \\\"destination\\\": \\\"ZRH\\\", \\\"departure\\\": \\\"2025-11-01\\\", \\\"returnDate\\\": \\\"2025-11-03\\\", \\\"adults\\\": \\\"1\\\", \\\"nonstop\\\": \\\"False\\\", \\\"cabin\\\": \\\"ECONOMY\\\", \\\"currency\\\": \\\"EUR\\\", \\\"lhGroupOnly\\\": \\\"True\\\", \\\"maxResults\\\": \\\"6\\\"}\\n2025-10-20T12:17:46Z - Proxy POST request | {\\\"path\\\": \\\"/tools/amadeus/search\\\", \\\"url\\\": \\\"https://origin-daisy.onrender.com/tools/amadeus/search\\\", \\\"timeout\\\": \\\"8.0\\\", \\\"payload\\\": \\\"{\\\\\\\"originLocationCode\\\\\\\": \\\\\\\"ZAG\\\\\\\", \\\\\\\"destinationLocationCode\\\\\\\": \\\\\\\"ZRH\\\\\\\", \\\\\\\"departureDate\\\\\\\": \\\\\\\"2025-11-01\\\\\\\", \\\\\\\"adults\\\\\\\": 1, \\\\\\\"nonStop\\\\\\\": false, \\\\\\\"max\\\\\\\": 6, \\\\\\\"travelClass\\\\\\\": \\\\\\\"ECONOMY\\\\\\\", \\\\\\\"returnDate\\\\\\\": \\\\\\\"2025-11-03\\\\\\\", \\\\\\\"currencyCode\\\\\\\": \\\\\\\"EUR\\\\\\\", \\\\\\\"includedAirlineCodes\\\\\\\": \\\\\\\"LH,LX,OS,SN,EW,4Y,EN\\\\\\\"}\\\"}\\n2025-10-20T12:17:48Z - Proxy POST HTTP error | {\\\"path\\\": \\\"/tools/amadeus/search\\\", \\\"status\\\": \\\"429\\\", \\\"body_preview\\\": \\\"{\\\\\\\"errors\\\\\\\":[{\\\\\\\"code\\\\\\\":38195,\\\\\\\"title\\\\\\\":\\\\\\\"Quota limit exceeded\\\\\\\",\\\\\\\"detail\\\\\\\":\\\\\\\"The quota limit is exceeded\\\\\\\",\\\\\\\"status\\\\\\\":429}]}\\\"}\\n2025-10-20T12:17:48Z - Function flight search error | {\\\"error\\\": \\\"Proxy HTTP 429: {\\\\\\\"errors\\\\\\\":[{\\\\\\\"code\\\\\\\":38195,\\\\\\\"title\\\\\\\":\\\\\\\"Quota limit exceeded\\\\\\\",\\\\\\\"detail\\\\\\\":\\\\\\\"The quota limit is exceeded\\\\\\\",\\\\\\\"status\\\\\\\":429}]}\\\"}\"}"}}}}, "sessionAttributes": {}, "promptSessionAttributes": {}}